<div class="container mt-4">
  <div class="row mb-4">
    <div class="col-12">
      <h2 class="text-center mb-4">
        <i class="bi {{ isEditMode ? 'bi-pencil-square' : 'bi-calendar-plus' }} me-2"></i>
        {{ isEditMode ? 'Editar Evento' : 'Cadastrar Novo Evento' }}
      </h2>
        <button class="btn btn-secondary" (click)="cancelar()">
        <i class="bi bi-arrow-left me-2"></i>Voltar
        </button>
    </div>
    
  </div>

  <div class="card">
    <div class="card-header bg-light">
      <i class="bi bi-card-checklist me-2"></i>
      {{ isEditMode ? 'Editar Informações do Evento' : 'Preencha os Dados do Evento' }}
    </div>
    <div class="card-body">
      <form #eventoForm="ngForm">
        <div class="row">
          <div class="col-md-12 mb-3">
            <label for="titulo" class="form-label">
              <i class="bi me-2"></i>Título *
            </label>
            <input id="titulo" type="text" class="form-control"
                   [(ngModel)]="evento.titulo" name="titulo" required
                   placeholder="Digite o título do evento">
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="dataHora" class="form-label">
              <i class="bi me-2"></i>Data e Hora *
            </label>
            <input id="dataHora" type="datetime-local" class="form-control"
                   [(ngModel)]="evento.dataHora" name="dataHora" required>
          </div>

          <div class="col-md-6 mb-3">
            <label for="cargaHoraria" class="form-label">
              <i class="bi me-2"></i>Carga Horária (minutos) *
            </label>
            <input id="cargaHoraria" type="number" class="form-control"
                   [(ngModel)]="evento.cargaHoraria" name="cargaHoraria"
                   step="0.5" min="0" required
                   placeholder="Ex: 2.0">
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="categoria" class="form-label">
              <i class="bi me-2"></i>Categoria *
            </label>
            <input id="categoria" type="text" class="form-control"
                   [(ngModel)]="evento.categoria" name="categoria" required
                   placeholder="Ex: Workshop, Palestra, Curso">
          </div>

          <div class="col-md-6 mb-3">
            <label class="form-label">
              <i class="bi me-2"></i>Status Previsto
            </label>
            <div class="form-control-plaintext">
              <span class="badge" [ngClass]="{
                'bg-info': isEventoAgendado(),
                'bg-warning': isEventoEmAndamento(),
                'bg-success': isEventoFinalizado(),
                'bg-secondary': isEventoCancelado(),
                'bg-light text-dark': false
              }">
                <i class="bi me-1"></i>
                {{ isEventoAgendado() ? 'Agendado' :
                   isEventoEmAndamento() ? 'Em Andamento' :
                   isEventoFinalizado() ? 'Finalizado' :
                   isEventoCancelado() ? 'Cancelado' :
                   'Indefinido' }}
              </span>
            </div>
          </div>
        </div>

        <div class="mb-3">
          <label for="descricao" class="form-label">
            <i class="bi me-2"></i>Descrição *
          </label>
          <textarea id="descricao" class="form-control" rows="4"
                    [(ngModel)]="evento.descricao" name="descricao" required
                    placeholder="Descreva os detalhes do evento..."></textarea>
        </div>
      </form>

      <div class="actions-container mt-4">
        <div *ngIf="!isEditMode" class="d-flex gap-2">
          <button class="btn btn-success"
                  (click)="salvarEvento()"
                  [disabled]="!eventoForm.valid">
            <i class="bi bi-check-circle me-2"></i>Cadastrar Evento
          </button>
          <button class="btn btn-secondary" (click)="cancelar()">
            <i class="bi bi-x-circle me-2"></i>Cancelar
          </button>
        </div>

        <div *ngIf="isEditMode" class="d-flex gap-2 flex-wrap">
          <button class="btn btn-primary"
                  (click)="salvarEvento()"
                  [disabled]="!eventoForm.valid">
            <i class="bi bi-check-circle me-2"></i>Salvar Alterações
          </button>

          <button class="btn btn-danger" (click)="removerEvento()">
            <i class="bi bi-trash me-2"></i>Remover Evento
          </button>

          <button class="btn btn-warning" (click)="encerrarEvento()"
                  *ngIf="isEventoEmAndamento()">
            <i class="bi bi-flag me-2"></i>Encerrar Evento
          </button>

        </div>
      </div>

      <div class="mt-3">
        <small class="text-muted">
          <i class="bi bi-asterisk me-1"></i>Campos obrigatórios
        </small>
      </div>
    </div>
  </div>
</div>